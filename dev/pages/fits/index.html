<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>FITS structure · CamiFITS.jl</title><meta name="title" content="FITS structure · CamiFITS.jl"/><meta property="og:title" content="FITS structure · CamiFITS.jl"/><meta property="twitter:title" content="FITS structure · CamiFITS.jl"/><meta name="description" content="Documentation for CamiFITS.jl."/><meta property="og:description" content="Documentation for CamiFITS.jl."/><meta property="twitter:description" content="Documentation for CamiFITS.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">CamiFITS.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../manual/">Manual</a></li><li><a class="tocitem" href="../tools/">Basic tools</a></li><li class="is-active"><a class="tocitem" href>FITS structure</a><ul class="internal"><li><a class="tocitem" href="#Introduction"><span>Introduction</span></a></li><li><a class="tocitem" href="#FITS-objects"><span>FITS-objects</span></a></li><li><a class="tocitem" href="#FITS-object-casting"><span>FITS-object casting</span></a></li><li><a class="tocitem" href="#FITS-methods"><span>FITS methods</span></a></li><li><a class="tocitem" href="#Fortran-objects"><span>Fortran objects</span></a></li><li><a class="tocitem" href="#Fortran-object-casting"><span>Fortran-object casting</span></a></li><li><a class="tocitem" href="#FORTRAN-related-methods"><span>FORTRAN-related methods</span></a></li></ul></li><li><a class="tocitem" href="../">Index</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>FITS structure</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>FITS structure</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://walra356.github.io/CamiFITS.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="github.com/walra356/CamiFITS.jl.git" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="FITS-structure"><a class="docs-heading-anchor" href="#FITS-structure">FITS structure</a><a id="FITS-structure-1"></a><a class="docs-heading-anchor-permalink" href="#FITS-structure" title="Permalink"></a></h1><h2 id="Introduction"><a class="docs-heading-anchor" href="#Introduction">Introduction</a><a id="Introduction-1"></a><a class="docs-heading-anchor-permalink" href="#Introduction" title="Permalink"></a></h2><p>The <em>Application Programming Interface</em> (API) for CamiFITS is based on 6  <em>FITS-object structs</em> with dedicated <em>object-casting procedures to enforce the</em>  <a href="https://fits.gsfc.nasa.gov/fits_standard.html">FITS standard </a>. The API  elements are typically called internally by one of the <em>Basic tools</em> but is made available in the documentation to provide insight in the structure of  CamiFITS.</p><h2 id="FITS-objects"><a class="docs-heading-anchor" href="#FITS-objects">FITS-objects</a><a id="FITS-objects-1"></a><a class="docs-heading-anchor-permalink" href="#FITS-objects" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CamiFITS.FITS" href="#CamiFITS.FITS"><code>CamiFITS.FITS</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">FITS</code></pre><p>Object to hold a single <code>.fits</code> file.</p><p>The fields are</p><ul><li><code>.filnam:</code>:  the <code>.fits</code> filename (<code>:String</code>)</li><li><code>.hdu: the collection of header-data-unit objects (</code>::Vector{FITS_HDU}`)</li></ul></div><a class="docs-sourcelink" target="_blank" href="github.com/walra356/CamiFITS.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CamiFITS.FITS_filnam" href="#CamiFITS.FITS_filnam"><code>CamiFITS.FITS_filnam</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">FITS_filnam</code></pre><p>mutable FITS object to hold the decomposed name of a <code>.fits</code> file.</p><p>The fields are: &quot; <code>.value</code>:  for <code>p#.fits</code> this is <code>p#.fits</code> (<code>::String</code>)</p><ul><li><code>.name</code>:  for <code>p#.fits</code> this is <code>p#</code> (<code>::String</code>)</li><li><code>.prefix</code>:  for <code>p#.fits</code> this is <code>p</code> (<code>::String</code>)</li><li><code>.numerator</code>:  for <code>p#.fits</code> this is <code>#</code>, a serial number (e.g., &#39;3&#39;) or a range (e.g., &#39;3-7&#39;) (<code>::String</code>)</li><li><code>.extension</code>:  for <code>p#.fits</code> this is <code>.fits</code> (<code>::String</code>)</li></ul></div><a class="docs-sourcelink" target="_blank" href="github.com/walra356/CamiFITS.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CamiFITS.FITS_HDU" href="#CamiFITS.FITS_HDU"><code>CamiFITS.FITS_HDU</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">FITS_HDU</code></pre><p>Object to hold a single &quot;Header and Data Unit&quot; (HDU).</p><p>The fields are</p><ul><li><code>.hduindex:</code>:  identifier (a file may contain more than one HDU) (<code>:Int</code>)</li><li><code>.header</code>:  the header object (<code>::FITS_header</code>)</li><li><code>.dataobject</code>:  the data object (<code>::FITS_dataobject</code>)</li></ul><p>NB. An empty data block (<code>.dataobject = nothing</code>) conforms to the standard.</p></div><a class="docs-sourcelink" target="_blank" href="github.com/walra356/CamiFITS.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CamiFITS.FITS_header" href="#CamiFITS.FITS_header"><code>CamiFITS.FITS_header</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">FITS_header</code></pre><p>Object to hold the header information of a <a href="#CamiFITS.FITS_HDU"><code>FITS_HDU</code></a>.</p><p>The fields are:</p><ul><li><code>.card</code>: the array of <code>cards</code> (<code>::Vector{FITS_card}</code>)</li><li><code>.map</code>:  Dictionary <code>keyword =&gt; recordindex</code> (<code>::Dict{String, Int}</code>)</li></ul></div><a class="docs-sourcelink" target="_blank" href="github.com/walra356/CamiFITS.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CamiFITS.FITS_card" href="#CamiFITS.FITS_card"><code>CamiFITS.FITS_card</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">FITS_card</code></pre><p>Object to hold the card information of the <a href="#CamiFITS.FITS_header"><code>FITS_header</code></a> object.</p><p>The fields are:</p><ul><li><code>.cardindex</code>:  identifier of the header record (<code>::Int</code>)</li><li><code>.record</code>:  the full record on the card (<code>::String</code>)</li><li><code>.keyword</code>:  name of the corresponding header record (<code>::String</code>)</li><li><code>.val</code>:  value  of the corresponding header record (<code>::Any</code>)</li><li><code>.comment</code>:  comment on the corresponding header record (<code>::String</code>)</li></ul></div><a class="docs-sourcelink" target="_blank" href="github.com/walra356/CamiFITS.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CamiFITS.FITS_dataobject" href="#CamiFITS.FITS_dataobject"><code>CamiFITS.FITS_dataobject</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">FITS_dataobject</code></pre><p>Object to hold the data of the <a href="#CamiFITS.FITS_HDU"><code>FITS_HDU</code></a> of given <code>hdutype</code>.</p><p>The fields are:</p><ul><li><code>.hdutype</code>:  accepted types are &#39;PRIMARY&#39;, &#39;IMAGE&#39; and &#39;TABLE&#39; (<code>::String</code>)</li><li><code>.data</code>:  in the from appropriate for the <code>hdutype</code> (::Any)</li></ul></div><a class="docs-sourcelink" target="_blank" href="github.com/walra356/CamiFITS.jl.git">source</a></section></article><h2 id="FITS-object-casting"><a class="docs-heading-anchor" href="#FITS-object-casting">FITS-object casting</a><a id="FITS-object-casting-1"></a><a class="docs-heading-anchor-permalink" href="#FITS-object-casting" title="Permalink"></a></h2><p>The ordering of the FITS-object casting procedures is illustrated in the  flow diagram below. </p><p><img src="../../assets/fits_casting.png" alt="Image"/></p><p>The use of the casting procedures is <em>recommended</em> over direct application of the FITS-object strucs <em>to ensure conformance to the</em>  <a href="https://fits.gsfc.nasa.gov/fits_standard.html">FITS standard </a>.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CamiFITS.cast_FITS_filnam-Tuple{String}" href="#CamiFITS.cast_FITS_filnam-Tuple{String}"><code>CamiFITS.cast_FITS_filnam</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">cast_FITS_filnam(filnam::String)</code></pre><p>Create the <a href="#CamiFITS.FITS_filnam"><code>FITS_filnam</code></a> object to decompose <code>filnam</code> into its <code>name</code>,  <code>prefix</code>, <code>numerator</code> and <code>extension</code>.</p><p><strong>Example:</strong></p><pre><code class="nohighlight hljs">julia&gt; filnam = &quot;T23.01.fits&quot;;

julia&gt; n = cast_FITS_filnam(filnam);

julia&gt; n.name, n.prefix, n.numerator, n.extension
(&quot;T23.01&quot;, &quot;T23.&quot;, &quot;01&quot;, &quot;.fits&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="github.com/walra356/CamiFITS.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CamiFITS.cast_FITS_dataobject-Tuple{String, Any}" href="#CamiFITS.cast_FITS_dataobject-Tuple{String, Any}"><code>CamiFITS.cast_FITS_dataobject</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">cast_FITS_dataobject(hdutype::String, data)</code></pre><p>Create the <a href="#CamiFITS.FITS_dataobject"><code>FITS_dataobject</code></a> object for given <code>hduindex</code> constructed from  the <code>data</code> in accordance to the specified <code>hdutype</code>: <em>PRIMARY</em>,  <em>IMAGE</em>, <em>ARRAY</em>, <em>TABLE</em> (ASCII table) or <em>BINTABLE</em> (binary table).</p><p><strong>Example:</strong></p><pre><code class="nohighlight hljs">julia&gt; data = [11,21,31,12,22,23,13,23,33];

julia&gt; data = reshape(data,(3,3));

julia&gt; d = cast_FITS_dataobject(&quot;image&quot;, data)
FITS_dataobject(&quot;&#39;IMAGE   &#39;&quot;, [11 12 13; 21 22 23; 31 23 33])

julia&gt; d.data
3×3 Matrix{Int64}:
 11  12  13
 21  22  23
 31  23  33

julia&gt; d.hdutype
&quot;&#39;IMAGE   &#39;&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="github.com/walra356/CamiFITS.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CamiFITS.cast_FITS_header-Tuple{FITS_dataobject}" href="#CamiFITS.cast_FITS_header-Tuple{FITS_dataobject}"><code>CamiFITS.cast_FITS_header</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">cast_FITS_header(dataobject::FITS_dataobject)</code></pre><p>Create the <a href="#CamiFITS.FITS_header"><code>FITS_header</code></a> object from the dataobject. The  dataobject-input mode is used by <a href="../tools/#CamiFITS.fits_create"><code>fits_create</code></a> to ceate the header object as part of creating the <a href="#CamiFITS.FITS"><code>FITS</code></a> object starting from Julia data  input.</p><p><strong>Example:</strong></p><pre><code class="nohighlight hljs">julia&gt; data = [11 21 31; 12 22 23; 13 23 33];

julia&gt; d = cast_FITS_dataobject(&quot;image&quot;, data);

julia&gt; h = cast_FITS_header(d);

julia&gt; h.map
Dict{String, Int64} with 7 entries:
  &quot;BITPIX&quot;   =&gt; 2
  &quot;NAXIS2&quot;   =&gt; 5
  &quot;XTENSION&quot; =&gt; 1
  &quot;NAXIS1&quot;   =&gt; 4
  &quot;&quot;         =&gt; 36
  &quot;NAXIS&quot;    =&gt; 3
  &quot;END&quot;      =&gt; 6</code></pre><pre><code class="nohighlight hljs">cast_FITS_header(record::Vector{String})</code></pre><p>Create the <a href="#CamiFITS.FITS_header"><code>FITS_header</code></a> object from a block of (a multiple of) 36  single-record strings (of 80 printable ASCII characters). The record-input mode is used by <a href="../tools/#CamiFITS.fits_read-Tuple{String}"><code>fits_read</code></a> after reading the header records from disk  (see casting diagram above).</p><p><strong>Example:</strong></p><pre><code class="nohighlight hljs">julia&gt; record = [rpad(&quot;KEYWORD$i&quot;,8) * &quot;&#39;&quot; * rpad(&quot;$i&quot;,70) * &quot;&#39;&quot; for i=1:3];

julia&gt; blanks = [repeat(&#39; &#39;, 80) for i = 1:36-length(record)];

julia&gt; append!(record, blanks);         # to conform to the FITS standard

julia&gt; h = cast_FITS_header(record);

julia&gt; h.map
Dict{String, Int64} with 4 entries:
  &quot;KEYWORD3&quot; =&gt; 3
  &quot;KEYWORD2&quot; =&gt; 2
  &quot;KEYWORD1&quot; =&gt; 144
  &quot;&quot;         =&gt; 36</code></pre></div><a class="docs-sourcelink" target="_blank" href="github.com/walra356/CamiFITS.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CamiFITS.cast_FITS_card-Tuple{Int64, String}" href="#CamiFITS.cast_FITS_card-Tuple{Int64, String}"><code>CamiFITS.cast_FITS_card</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">cast_FITS_card(cardindex::Int, record::String)</code></pre><p>Create the <a href="#CamiFITS.FITS_card"><code>FITS_card</code></a> object for <code>record</code> with index <code>cardindex</code>.</p><p><strong>Example:</strong></p><pre><code class="nohighlight hljs">julia&gt; record = &quot;SIMPLE  =                    T / file does conform to FITS standard             &quot;;

julia&gt; card = cast_FITS_card(1, record);

julia&gt; card.cardindex, card.keyword, card.value, card.comment
(1, &quot;SIMPLE&quot;, true, &quot;file does conform to FITS standard             &quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="github.com/walra356/CamiFITS.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CamiFITS.cast_FITS_HDU-Tuple{Int64, FITS_header, FITS_dataobject}" href="#CamiFITS.cast_FITS_HDU-Tuple{Int64, FITS_header, FITS_dataobject}"><code>CamiFITS.cast_FITS_HDU</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">cast_FITS_HDU(hduindex::Int, header::FITS_header, data::FITS_dataobject)</code></pre><p>Create the <a href="#CamiFITS.FITS_HDU"><code>FITS_HDU</code></a> object for given <code>hduindex</code>, <code>header</code> and <code>data</code>.</p><p><strong>Example:</strong></p><pre><code class="nohighlight hljs">julia&gt; data = [11 21 31; 12 22 23; 13 23 33];

julia&gt; d = cast_FITS_dataobject(&quot;image&quot;, data);

julia&gt; h = cast_FITS_header(d);

julia&gt; hdu = cast_FITS_HDU(1, h, d);

julia&gt; hdu.dataobject.data
3×3 Matrix{Int64}:
 11  21  31
 12  22  23
 13  23  33</code></pre></div><a class="docs-sourcelink" target="_blank" href="github.com/walra356/CamiFITS.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CamiFITS.cast_FITS-Tuple{String, Vector{FITS_HDU}}" href="#CamiFITS.cast_FITS-Tuple{String, Vector{FITS_HDU}}"><code>CamiFITS.cast_FITS</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">FITS(filnam::String, hdu::Vector{FITS_HDU})</code></pre><p>Object to hold a single <code>.fits</code> file.</p><p>The fields are</p><ul><li><code>.filnam</code>:  filename of the corresponding <code>.fits</code> file (<code>::String</code>)</li><li><code>.hdu</code>:  array of <a href="#CamiFITS.FITS_HDU"><code>FITS_HDU</code></a>s (<code>::Vector{FITS_HDU}</code>)</li></ul><p><strong>Example:</strong></p><pre><code class="nohighlight hljs">julia&gt; data = [11 21 31; 12 22 23; 13 23 33];

julia&gt; d = cast_FITS_dataobject(&quot;image&quot;, data);

julia&gt; h = cast_FITS_header(d);

julia&gt; hdu = cast_FITS_HDU(1, h, d);

julia&gt; f = cast_FITS(&quot;test.fits&quot;, [hdu]);

julia&gt; f.hdu[1].dataobject.data
3×3 Matrix{Int64}:
 11  21  31
 12  22  23
 13  23  33</code></pre></div><a class="docs-sourcelink" target="_blank" href="github.com/walra356/CamiFITS.jl.git">source</a></section></article><h2 id="FITS-methods"><a class="docs-heading-anchor" href="#FITS-methods">FITS methods</a><a id="FITS-methods-1"></a><a class="docs-heading-anchor-permalink" href="#FITS-methods" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CamiFITS.fits_zero_offset-Tuple{Type}" href="#CamiFITS.fits_zero_offset-Tuple{Type}"><code>CamiFITS.fits_zero_offset</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">fits_zero_offset(T::Type)</code></pre><p>Zero offset <code>a</code> as used in linear scaling equation</p><pre><code class="nohighlight hljs">f(x) = a + b x,</code></pre><p>where <code>b</code> is the scaling factor. </p><p>The default value is <code>a = 0.0</code> for <code>Real</code> numeric types.  For non-real types <code>a = nothing</code>.</p><p><strong>Example:</strong></p><pre><code class="nohighlight hljs">julia&gt; T = Type[Any, Bool, Int8, UInt8, Int16, UInt16, Int32, UInt32,
                  Int64, UInt64, Float16, Float32, Float64];

julia&gt; o = (0.0, 0.0, -128, 0.0, 0.0, 32768,
                   0.0, 2147483648, 0.0, 9223372036854775808, 0.0, 0.0, 0.0);

julia&gt; sum([fits_zero_offset(T[i]) == o[i] for i ∈ eachindex(T)]) == 13
true</code></pre></div><a class="docs-sourcelink" target="_blank" href="github.com/walra356/CamiFITS.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CamiFITS.fits_apply_offset-Tuple{Any}" href="#CamiFITS.fits_apply_offset-Tuple{Any}"><code>CamiFITS.fits_apply_offset</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">fits_apply_offset(data)</code></pre><p>Shift the <code>UInt</code> range of values onto the <code>Int</code> range by <em>substracting</em> from  the <code>data</code> the appropriate integer offset value as specified by the <code>BZERO</code>  keyword.</p><p>NB. Since the FITS format <em>does not support a native unsigned integer data  type</em> (except <code>UInt8</code>), unsigned values of the types <code>UInt16</code>, <code>UInt32</code> and  <code>UInt64</code>, are stored as native signed integers of the types <code>Int16</code>, <code>Int32</code>  and <code>Int64</code>, respectively, after <em>substracting</em> the appropriate integer offset  specified by the (positive) <code>BZERO</code> keyword value. For the byte data type  (<code>UInt8</code>), the converse technique can be used to store signed byte values  (<code>Int8</code>) as native unsigned values (<code>UInt</code>) after subtracting the (negative)  <code>BZERO</code> offset value. </p><p>This method is included and used in storing of data to ensure backward  compatibility with software not supporting native values of the types <code>Int8</code>,  <code>UInt16</code>, <code>UInt32</code> and <code>UInt64</code>.</p><p><strong>Example:</strong></p><pre><code class="nohighlight hljs">julia&gt; fits_apply_offset(UInt32[0])
1-element Vector{Int32}:
 -2147483648

julia&gt; fits_apply_offset(Int8[0])
1-element Vector{UInt8}:
 0x80

julia&gt; Int(0x80)
128</code></pre></div><a class="docs-sourcelink" target="_blank" href="github.com/walra356/CamiFITS.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CamiFITS.fits_remove_offset-Tuple{Any, FITS_header}" href="#CamiFITS.fits_remove_offset-Tuple{Any, FITS_header}"><code>CamiFITS.fits_remove_offset</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">fits_remove_offset(data, bzero::Real)</code></pre><p>Shift the <code>Int</code> range of values onto the <code>UInt</code> range by <em>adding</em> to the <code>data</code> the appropriate integer offset value as specified by the <code>BZERO</code> keyword.</p><p>NB. Since the FITS format <em>does not support a native unsigned integer data  type</em> (except <code>UInt8</code>), unsigned values of the types <code>UInt16</code>, <code>UInt32</code> and  <code>UInt64</code>, are recovered from stored native signed integers of the types <code>Int16</code>, <code>Int32</code> and <code>Int64</code>, respectively, by <em>adding</em> the appropriate integer offset  specified by the (positive) <code>BZERO</code> keyword value. For the byte data type  (<code>UInt8</code>), the converse technique can be used to recover the signed byte values (<code>Int8</code>) from the stored native unsigned values (<code>UInt</code>) by <em>adding</em> the  (negative) <code>BZERO</code> offset value. </p><p>This method is included and used in <em>reading</em> stored data to ensure backward  compatibility with software not supporting native values of the types  <code>Int8</code>, <code>UInt16</code>, <code>UInt32</code> and <code>UInt64</code>.</p><p><strong>Example:</strong></p><pre><code class="nohighlight hljs">julia&gt; fits_remove_offset(Int32[-2147483648])
1-element Vector{UInt32}:
 0x00000000

julia&gt; Int(0x00000000)
0

julia&gt; fits_remove_offset(UInt8[128])
1-element Vector{Int8}:
 0</code></pre></div><a class="docs-sourcelink" target="_blank" href="github.com/walra356/CamiFITS.jl.git">source</a></section></article><h2 id="Fortran-objects"><a class="docs-heading-anchor" href="#Fortran-objects">Fortran objects</a><a id="Fortran-objects-1"></a><a class="docs-heading-anchor-permalink" href="#Fortran-objects" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CamiFITS.FORTRAN_format" href="#CamiFITS.FORTRAN_format"><code>CamiFITS.FORTRAN_format</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">FORTRAN_format</code></pre><p>Object to hold a FORTRAN format specifier decomposed in its fields.</p><p>Accepted <em>datatype specifiers</em> are:  <code>Aw</code>,  <code>Iw</code>,  <code>Fw.d</code>,  <code>Ew.d</code>,  <code>Dw.d</code></p><p>Accepted <em>output formating specifiers</em> are: <code>Aw</code>,  <code>Iw.m</code>,  <code>Bw.m</code>,  <code>Ow.m</code>, <code>Zw.m</code>,  <code>Fw.d</code>,  <code>Ew.dEe</code>,  <code>ENw.d</code>,  <code>ESw.d</code>,  <code>Gw.dEe</code>,  <code>Dw.dEe</code>. Notation: <code>w</code> - width, <code>m</code> (optional) - minimum number of digits, <code>d</code> - number of digits to right of decimal, <code>e</code> - number of digits in exponent <code>N</code>/<code>S</code> (optional) indicates engineering/scientific formating of the <code>E</code> type.</p><p>The fields are:</p><ul><li><code>.datatype</code>: primary FORTRAN datatype (<code>::String</code>)</li><li><code>.char</code>: primary FORTRAN datatype character (<code>::Char</code>)</li><li><code>.EngSci</code>: secundary datatype character - N for engineering/ S for scientific (<code>::Union{Char,Nothing}</code>)</li><li><code>.width</code>: width of numeric field (<code>::Int</code>)</li><li><code>.nmin</code>: minimum number of digits displayed (<code>::Int</code>)</li><li><code>.ndec</code>: number of digits to right of decimal (<code>::Int</code>)</li><li><code>.nexp</code>: number of digits in exponent (<code>::Int</code>)</li></ul></div><a class="docs-sourcelink" target="_blank" href="github.com/walra356/CamiFITS.jl.git">source</a></section></article><h2 id="Fortran-object-casting"><a class="docs-heading-anchor" href="#Fortran-object-casting">Fortran-object casting</a><a id="Fortran-object-casting-1"></a><a class="docs-heading-anchor-permalink" href="#Fortran-object-casting" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CamiFITS.cast_FORTRAN_format-Tuple{String}" href="#CamiFITS.cast_FORTRAN_format-Tuple{String}"><code>CamiFITS.cast_FORTRAN_format</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">cast_FORTRAN_format(format::String)</code></pre><p>Decompose the format specifier <code>format</code> into its fields and cast this into the <a href="#CamiFITS.FORTRAN_format"><code>FORTRAN_format</code></a> object. Allowed format specifiers are of the types: <code>Aw</code>, <code>Iw.m</code>, <code>Bw.m</code>, <code>Ow.m</code>, <code>Zw.m</code>, <code>Fw.d</code>, <code>Ew.dEe</code>, <code>ENw.d</code>, <code>ESw.d</code>, <code>Gw.dEe</code>, <code>Dw.dEe</code>, with: <code>w</code> - width, <code>m</code>(optional) - minimum number of digits, <code>d</code> - number of digits to right of decimal, <code>e</code> - number of digits in exponent; <code>N</code>/<code>S</code> (optional) indicates engineering/scientific formating of the <code>E</code> type.</p><p><strong>Examples:</strong></p><pre><code class="nohighlight hljs">julia&gt; cast_FORTRAN_format(&quot;I10&quot;)
FORTRAN_format(&quot;Iw&quot;, &#39;I&#39;, nothing, 10, 0, 0, 0)

julia&gt; cast_FORTRAN_format(&quot;I10.12&quot;)
FORTRAN_format(&quot;Iw.m&quot;, &#39;I&#39;, nothing, 10, 12, 0, 0)

julia&gt; F = cast_FORTRAN_format(&quot;E10.5E3&quot;)
FORTRAN_format(&quot;Ew.dEe&quot;, &#39;E&#39;, nothing, 10, 0, 5, 3)

julia&gt; F.Type, F.TypeChar, F.EngSci, F.width, F.nmin, F.ndec, F.nexp
(&quot;Ew.dEe&quot;, &#39;E&#39;, nothing, 10, 0, 5, 3)  </code></pre></div><a class="docs-sourcelink" target="_blank" href="github.com/walra356/CamiFITS.jl.git">source</a></section></article><h2 id="FORTRAN-related-methods"><a class="docs-heading-anchor" href="#FORTRAN-related-methods">FORTRAN-related methods</a><a id="FORTRAN-related-methods-1"></a><a class="docs-heading-anchor-permalink" href="#FORTRAN-related-methods" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CamiFITS.FORTRAN_eltype_char-Tuple{Type}" href="#CamiFITS.FORTRAN_eltype_char-Tuple{Type}"><code>CamiFITS.FORTRAN_eltype_char</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">FORTRAN_eltype_char(T::Type)</code></pre><p>FORTRAN datatype description character for julia type <code>T</code>: </p><p>Bool =&gt; &#39;L&#39;, UInt8 =&gt; &#39;B&#39;, Int16 =&gt; &#39;I&#39;, UInt16 =&gt; &#39;I&#39;, Int32 =&gt; &#39;J&#39;,  UInt32 =&gt; &#39;J&#39;, Int64 =&gt; &#39;K&#39;, UInt64 =&gt; &#39;K&#39;, Float32 =&gt; &#39;E&#39;, Float64 =&gt; &#39;D&#39;,  ComplexF32 =&gt; &#39;C&#39;, ComplexF64 =&gt; &#39;M&#39;</p><p>The character &#39;-&#39; is returned for non-primitive FORTRAN datatypes and for  primitive datatypes not included in the FITS standard.</p><p><strong>Examples:</strong></p><pre><code class="nohighlight hljs">julia&gt; T = Type[Bool, Int8, UInt8, Int16, UInt16, Int32, UInt32, Int64, UInt64];

julia&gt; print([FORTRAN_eltype_char(T[i]) for i ∈ eachindex(T)])
Int8: datatype not part of the FITS standard
[&#39;L&#39;, &#39;-&#39;, &#39;B&#39;, &#39;I&#39;, &#39;I&#39;, &#39;J&#39;, &#39;J&#39;, &#39;K&#39;, &#39;K&#39;]

julia&gt; T = [Float16, Float32, Float64, ComplexF32, ComplexF64];

julia&gt; print([FORTRAN_eltype_char(T[i]) for i ∈ eachindex(T)])
Float16: datatype not part of the FITS standard
[&#39;-&#39;, &#39;E&#39;, &#39;D&#39;, &#39;C&#39;, &#39;M&#39;]

julia&gt; T = [String, Vector{Char}, FITS];

julia&gt; print([FORTRAN_eltype_char(T[i]) for i ∈ eachindex(T)])
Vector{Char}: not a FORTRAN datatype
FITS: not a FORTRAN datatype
[&#39;A&#39;, &#39;A&#39;, &#39;-&#39;, &#39;-&#39;]</code></pre></div><a class="docs-sourcelink" target="_blank" href="github.com/walra356/CamiFITS.jl.git">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CamiFITS.parse_FITS_TABLE-Tuple{FITS_HDU}" href="#CamiFITS.parse_FITS_TABLE-Tuple{FITS_HDU}"><code>CamiFITS.parse_FITS_TABLE</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">parse_FITS_TABLE(hdu::FITS_HDU)</code></pre><p>Parse <code>FITS_TABLE</code> (ASCII table) into a Vector of its columns for further processing by the user. Default formatting in ISO 2004 FORTRAN data format specified by keys &quot;TFORMS1&quot; - &quot;TFORMSn&quot;). Display formatting in ISO 2004 FORTRAN data format (&quot;TDISP1&quot; - &quot;TDISPn&quot;) prepared for user editing.</p><p><strong>Example:</strong></p><pre><code class="nohighlight hljs">strExample = &quot;example.fits&quot;
data = [10, 20, 30]
fits_create(strExample, data; protect=false)

t1 = Float16[1.01E-6,2.0E-6,3.0E-6,4.0E-6,5.0E-6]
t2 = [0x0000043e, 0x0000040c, 0x0000041f, 0x0000042e, 0x0000042f]
t3 = [1.23,2.12,3.,4.,5.]
t4 = [&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;e&#39;]
t5 = [&quot;a&quot;,&quot;bb&quot;,&quot;ccc&quot;,&quot;dddd&quot;,&quot;ABCeeaeeEEEEEEEEEEEE&quot;]
data = [t1,t2,t3,t4,t5]
fits_extend(strExample, data, &quot;TABLE&quot;)

f = fits_read(strExample)
d = f[2].header.dict
d = [get(d,&quot;TFORM\$i&quot;,0) for i=1:5]; println(strip.(d))
  SubString{String}[&quot;&#39;E6.1    &#39;&quot;, &quot;&#39;I4      &#39;&quot;, &quot;&#39;F4.2    &#39;&quot;, &quot;&#39;A1      &#39;&quot;, &quot;&#39;A20     &#39;&quot;]

f[2].dataobject.data                            # this is the table hdu
  5-element Vector{String}:
   &quot;1.0e-6 1086 1.23 a a                    &quot;
   &quot;2.0e-6 1036 2.12 b bb                   &quot;
   &quot;3.0e-6 1055 3.0  c ccc                  &quot;
   &quot;4.0e-6 1070 4.0  d dddd                 &quot;
   &quot;5.0e-6 1071 5.0  e ABCeeaeeEEEEEEEEEEEE &quot;

parse_FITS_TABLE(f[2])
  5-element Vector{Vector{T} where T}:
   [1.0e-6, 2.0e-6, 3.0e-6, 4.0e-6, 5.0e-6]
   [1086, 1036, 1055, 1070, 1071]
   [1.23, 2.12, 3.0, 4.0, 5.0]
   [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;]
   [&quot;a                   &quot;, &quot;bb                  &quot;, &quot;ccc                 &quot;, &quot;dddd                &quot;, &quot;ABCeeaeeEEEEEEEEEEEE&quot;]</code></pre></div><a class="docs-sourcelink" target="_blank" href="github.com/walra356/CamiFITS.jl.git">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../tools/">« Basic tools</a><a class="docs-footer-nextpage" href="../">Index »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Friday 22 December 2023 02:58">Friday 22 December 2023</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
